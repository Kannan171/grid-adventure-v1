
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../image_observation/">
      
      
        <link rel="next" href="../action/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>State - Grid-Adventure1 Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#state-representation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Grid-Adventure1 Documentation" class="md-header__button md-logo" aria-label="Grid-Adventure1 Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Grid-Adventure1 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              State
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../player-guide/introduction/" class="md-tabs__link">
          
  
  
  Player Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../introduction/" class="md-tabs__link">
          
  
  
  Agent Documentation

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Grid-Adventure1 Documentation" class="md-nav__button md-logo" aria-label="Grid-Adventure1 Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Grid-Adventure1 Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Player Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Player Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../player-guide/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../player-guide/entities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../player-guide/objectives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Objectives
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../player-guide/movements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Movements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Agent Documentation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agent Documentation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../grid_adventure_environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grid Adventure Environment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Game Representation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Game Representation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../game_representation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gridstate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GridState
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../image_observation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ImageObservation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    State
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    State
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#state-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      
        State Attributes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="State Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#level-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Effect Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#property-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Property Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#game-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Game Status
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useful-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Useful Methods
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Entities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entity-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entity Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collidable-entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Collidable Entities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Collidable Entities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agententity" class="md-nav__link">
    <span class="md-ellipsis">
      
        AgentEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lavaentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        LavaEntity
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blockingentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        BlockingEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pushableentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        PushableEntity
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PushableEntity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wallentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        WallEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        BoxEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lockeddoorentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        LockedDoorEntity
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collectibleentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        CollectibleEntity
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CollectibleEntity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coinentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        CoinEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gementity" class="md-nav__link">
    <span class="md-ellipsis">
      
        GemEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keyentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        KeyEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#speedpowerupentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        SpeedPowerUpEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shieldpowerupentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        ShieldPowerUpEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phasingpowerupentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        PhasingPowerUpEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Entities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exitentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExitEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#floorentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        FloorEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unlockeddoorentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        UnlockedDoorEntity
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage Example
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#useful-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Useful Operations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full Example
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../action/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Action Class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rendering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Image Rendering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#state-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      
        State Attributes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="State Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#level-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Effect Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#property-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Property Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#game-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Game Status
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useful-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Useful Methods
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Entities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entity-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entity Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collidable-entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Collidable Entities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Collidable Entities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agententity" class="md-nav__link">
    <span class="md-ellipsis">
      
        AgentEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lavaentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        LavaEntity
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blockingentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        BlockingEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pushableentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        PushableEntity
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PushableEntity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wallentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        WallEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        BoxEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lockeddoorentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        LockedDoorEntity
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collectibleentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        CollectibleEntity
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CollectibleEntity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coinentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        CoinEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gementity" class="md-nav__link">
    <span class="md-ellipsis">
      
        GemEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keyentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        KeyEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#speedpowerupentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        SpeedPowerUpEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shieldpowerupentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        ShieldPowerUpEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phasingpowerupentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        PhasingPowerUpEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Entities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exitentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExitEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#floorentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        FloorEntity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unlockeddoorentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        UnlockedDoorEntity
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage Example
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#useful-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Useful Operations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full Example
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="state-representation">State Representation</h1>
<p>The state representation is the internal representation used by the Grid Adventure game. It stores information in various attributes, tracked by EntityID of each Entity. It is the most comprehensive of the 3 representations, and is used to generate the GridState and ImageObservation representations. </p>
<div class="admonition warning">
<p class="admonition-title">WARNING ON STATE SPACE</p>
<p>The Capstone Project can be solved without using the <strong>State Representation</strong>, however the State Representation is included for a lower level access to the representation.</p>
</div>
<h2 id="state-attributes">State Attributes</h2>
<p>The state Class represents the Game snapshot with the following 4 types of attributes.</p>
<ul>
<li>Level Configuration</li>
<li>Effect Configuration</li>
<li>Property Components</li>
<li>Game Status</li>
</ul>
<h3 id="level-configuration">Level Configuration</h3>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>width</code></td>
<td><code>int</code></td>
<td>Grid width in tiles</td>
</tr>
<tr>
<td><code>height</code></td>
<td><code>int</code></td>
<td>Grid height in tiles</td>
</tr>
<tr>
<td><code>movement</code></td>
<td><code>BaseMovement</code></td>
<td>Movement functions allowed</td>
</tr>
<tr>
<td><code>objective</code></td>
<td><code>BaseObjective</code></td>
<td>Objective of the level</td>
</tr>
</tbody>
</table>
<h3 id="effect-components">Effect Components</h3>
<p>All effect stores are of type <code>PMap[EntityID, Component]</code>.<br />
Note: <code>PMap</code> is an immutable dictionary, standard dictionary methods are available.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Mapped Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>immunity</code></td>
<td><code>Immunity</code></td>
<td>Damage immunity effects</td>
</tr>
<tr>
<td><code>phasing</code></td>
<td><code>Phasing</code></td>
<td>Pass-through-walls effects</td>
</tr>
<tr>
<td><code>speed</code></td>
<td><code>Speed</code></td>
<td>Movement multiplier effects</td>
</tr>
<tr>
<td><code>time_limit</code></td>
<td><code>TimeLimit</code></td>
<td>Effect duration (remaining steps)</td>
</tr>
<tr>
<td><code>usage_limit</code></td>
<td><code>UsageLimit</code></td>
<td>Effect uses (remaining count)</td>
</tr>
</tbody>
</table>
<h3 id="property-components">Property Components</h3>
<p>All property stores are of type <code>PMap[EntityID, Component]</code>.<br />
Note: <code>PMap</code> is an immutable dictionary, standard dictionary methods are available.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Mapped Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>agent</code></td>
<td><a href="#agententity"><code>Agent</code></a></td>
<td>Player-controlled entities</td>
</tr>
<tr>
<td><code>appearance</code></td>
<td><code>Appearance</code></td>
<td>Visual rendering properties</td>
</tr>
<tr>
<td><code>blocking</code></td>
<td><a href="#blockingentity"><code>Blocking</code></a></td>
<td>Obstacles that block movement</td>
</tr>
<tr>
<td><code>collectible</code></td>
<td><a href="#collectibleentity"><code>Collectible</code></a></td>
<td>Items that can be picked up</td>
</tr>
<tr>
<td><code>collidable</code></td>
<td><a href="#collidable-entities"><code>Collidable</code></a></td>
<td>Entities triggering collision events</td>
</tr>
<tr>
<td><code>cost</code></td>
<td><code>Cost</code></td>
<td>Entities that inflict movement cost</td>
</tr>
<tr>
<td><code>damage</code></td>
<td><a href="#lavaentity"><code>Damage</code></a></td>
<td>Entities that deal damage on contact</td>
</tr>
<tr>
<td><code>dead</code></td>
<td><code>Dead</code></td>
<td>Dead/incapacitated entities</td>
</tr>
<tr>
<td><code>exit</code></td>
<td><a href="#exitentity"><code>Exit</code></a></td>
<td>Level exit points</td>
</tr>
<tr>
<td><code>health</code></td>
<td><code>Health</code></td>
<td>Entity health (current/max)</td>
</tr>
<tr>
<td><code>inventory</code></td>
<td><code>Inventory</code></td>
<td>Items held by entities</td>
</tr>
<tr>
<td><code>key</code></td>
<td><a href="#keyentity"><code>Key</code></a></td>
<td>Keys that unlock <code>Locked</code> entities</td>
</tr>
<tr>
<td><code>locked</code></td>
<td><a href="#lockeddoorentity"><code>Locked</code></a></td>
<td>Locked doors/entities</td>
</tr>
<tr>
<td><code>position</code></td>
<td><code>Position</code></td>
<td>Entity grid positions</td>
</tr>
<tr>
<td><code>pushable</code></td>
<td><a href="#pushableentity"><code>Pushable</code></a></td>
<td>Entities that can be pushed</td>
</tr>
<tr>
<td><code>requirable</code></td>
<td><a href="#gementity"><code>Requirable</code></a></td>
<td>Must-collect items for objectives</td>
</tr>
<tr>
<td><code>rewardable</code></td>
<td><a href="#coinentity"><code>Rewardable</code></a></td>
<td>Entities granting score rewards</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>Status</code></td>
<td>Active status effects on entities</td>
</tr>
</tbody>
</table>
<h3 id="game-status">Game Status</h3>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>turn</code></td>
<td><code>int</code></td>
<td><code>0</code></td>
<td>Current turn number</td>
</tr>
<tr>
<td><code>score</code></td>
<td><code>int</code></td>
<td><code>0</code></td>
<td>Cumulative score</td>
</tr>
<tr>
<td><code>win</code></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>True if objective met</td>
</tr>
<tr>
<td><code>lose</code></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>True if losing condition met</td>
</tr>
<tr>
<td><code>message</code></td>
<td><code>str</code> or <code>None</code></td>
<td><code>None</code></td>
<td>Optional status message for display</td>
</tr>
<tr>
<td><code>turn_limit</code></td>
<td><code>int</code> or <code>None</code></td>
<td><code>None</code></td>
<td>Max turns allowed</td>
</tr>
<tr>
<td><code>seed</code></td>
<td><code>int</code> or <code>None</code></td>
<td><code>None</code></td>
<td>RNG seed for deterministic behavior</td>
</tr>
</tbody>
</table>
<h2 id="useful-methods">Useful Methods</h2>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>state.description</code></td>
<td>Property returning <code>PMap</code> of all non-empty state attributes</td>
</tr>
<tr>
<td><code>from_state(state)</code></td>
<td>Converts immutable <code>State</code> to mutable <code>GridState</code></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2 id="entities">Entities</h2>
<p>All effects and components are represented by Entities in the Grid Adventure game. Each entity is assigned a unique EntityID at creation. This EntityID is used to map to each attribute of the Entity.</p>
<h3 id="entity-types">Entity Types</h3>
<p>There are in general 5 types of Entities</p>
<table>
<thead>
<tr>
<th>Entity Types</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CollidableEntity</td>
<td>Recognisable for possession of <code>collidable</code> attribute of <code>Collidable</code> class</td>
</tr>
<tr>
<td>BlockingEntity</td>
<td>Recognisable for possession of <code>blocking</code> attribute of <code>Blocking</code> class</td>
</tr>
<tr>
<td>PushableEntity</td>
<td>Recognisable for possession of <code>pushable</code> attribute of <code>Pushable</code> class</td>
</tr>
<tr>
<td>CollectibleEntity</td>
<td>Recognisable for possession of <code>collectible</code> attribute of <code>Collectible</code> class</td>
</tr>
<tr>
<td>Others</td>
<td>All other entities</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h3 id="collidable-entities">Collidable Entities</h3>
<p>These are entities which can pass through each other but trigger interactions when they do. These entities are recognisable for possession of <code>collidable</code> attribute of <code>Collidable</code> class.  </p>
<p>There are in total 2 relevant Collidable Entities.</p>
<ul>
<li>AgentEntity </li>
<li>LavaEntity  </li>
</ul>
<p>&nbsp;</p>
<h4 id="agententity"><a href="../../player-guide/entities/#agent">AgentEntity</a></h4>
<p>This is the entity controlled by the user.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>health</td>
<td>Health Class</td>
<td>Health to give the agent, constitutes Max and current health</td>
</tr>
<tr>
<td>inventory_list</td>
<td>Inventory Class</td>
<td>List of Entity that represents the Agent's inventory</td>
</tr>
<tr>
<td>status_list</td>
<td>Status Class</td>
<td>List of Entity that represents the statuses active on the agent</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Available Methods</th>
<th>Inputs</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>set_health</td>
<td>health: int</td>
<td>Sets the agent's health</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h4 id="lavaentity"><a href="../../player-guide/entities/#lava">LavaEntity</a></h4>
<p>This is a damaging entity that the agent can walk through.</p>
<p>&nbsp;</p>
<h3 id="blockingentity">BlockingEntity</h3>
<p>These are entities which cannot be passed through by Collidable Entities. These entities are recognisable for possession of <code>blocking</code> attribute of <code>Blocking</code> class.  </p>
<p>There are in total 3 relevant BlockingEntity. </p>
<ul>
<li>WallEntity</li>
<li>LockedDoorEntity </li>
<li>BoxEntity  </li>
</ul>
<p>&nbsp;</p>
<h3 id="pushableentity">PushableEntity</h3>
<p>These are entities which are pushable by the Agent. These entities are recognisable for possession of <code>pushable</code> attribute of <code>Pushable</code> class. </p>
<p>There is 1 relevant pushable entity, <a href="#boxentity">BoxEntity</a></p>
<p>&nbsp;</p>
<h4 id="wallentity"><a href="../../player-guide/entities/#wall">WallEntity</a></h4>
<p>This is a wall entity that the agent cannot walk through or push. The wall entity has no attributes.</p>
<p>&nbsp;</p>
<h4 id="boxentity"><a href="../../player-guide/entities/#box">BoxEntity</a></h4>
<p>This is a pushable blocking entity that the agent can push but not walk through. The box entity has no attributes.</p>
<p>Note: that the box is both <a href="#blockingentity">Blocking</a> and a <a href="#pushableentity">Pushable</a> Entity</p>
<p>&nbsp;</p>
<h4 id="lockeddoorentity"><a href="../../player-guide/entities/#door">LockedDoorEntity</a></h4>
<p>This is a blocking entity that the agent cannot push through or push. This entity becomes a <a href="#unlockeddoorentity">UnlockedDoorEntity</a>, when a <a href="#keyentity">KeyEntity</a> is used on it</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>locked</td>
<td>Locked Class</td>
<td>Locked door that can be unlocked by a Key</td>
</tr>
</tbody>
</table>
<p>Note: Each level can have multiple key - door pairs. Any key can be used to unlock a door, but each key can only be used once.</p>
<p>&nbsp;</p>
<h3 id="collectibleentity">CollectibleEntity</h3>
<p>These are entities which are collectible by the agent. These entities are recognisable for possession of <code>collectible</code> attribute of <code>Collectible</code> class. </p>
<p>There are in total 6 relevant CollectibleEntity.</p>
<ul>
<li>CoinEntity</li>
<li>GemEntity</li>
<li>KeyEntity</li>
<li>SpeedPowerUpEntity</li>
<li>ShieldPowerUpEntity</li>
<li>PhasingPowerUpEntity  </li>
</ul>
<p>&nbsp;</p>
<h4 id="coinentity"><a href="../../player-guide/entities/#coin">CoinEntity</a></h4>
<p>This is an <strong>optional</strong> collectible that provides a score when collected by the agent. </p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>rewardable</td>
<td>Rewardable Class</td>
<td>The score provided for picking up the coin</td>
</tr>
</tbody>
</table>
<p>Note: Score received for collecting a coin is fixed at 5.</p>
<p>&nbsp;</p>
<h4 id="gementity"><a href="../../player-guide/entities/#gem">GemEntity</a></h4>
<p>This is a <strong>compulsory</strong> collectible to be collected by agent before it can enter the exit. The GemEntity has no attributes.</p>
<p>&nbsp;</p>
<h4 id="keyentity"><a href="../../player-guide/entities/#key">KeyEntity</a></h4>
<p>This is a collectible required to unlock a <a href="#lockeddoorentity">LockedDoorEntity</a></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>Key Class</td>
<td>Key class that can be used to unlock LockedDoorEntity</td>
</tr>
</tbody>
</table>
<p>Note: Any key present in the grid can be used to unlock a door, but each key can only be used once.</p>
<p>&nbsp;</p>
<h4 id="speedpowerupentity"><a href="../../player-guide/entities/#powerup-speed">SpeedPowerUpEntity</a></h4>
<p>This is a collectible power-up granting agent the ability to walk 2 tiles in 1 turn for a duration of time.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>speed</td>
<td>Speed Class</td>
<td>Speed class that saves multiplier, indicating speed up provided</td>
</tr>
<tr>
<td>time_limit</td>
<td>TimeLimit Class</td>
<td>TimeLimit class that saves amount, indicating number of turns powerup is active</td>
</tr>
</tbody>
</table>
<p>Note: Time limit is a constant at 5 steps.</p>
<p>&nbsp;</p>
<h4 id="shieldpowerupentity"><a href="../../player-guide/entities/#powerup-shield">ShieldPowerUpEntity</a></h4>
<p>This is a collectible power-up granting agent immunity while walking on damaging tiles for 5 uses.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>usage_limit</td>
<td>UsageLimit Class</td>
<td>UsageLimit class that shows durability of the shield</td>
</tr>
</tbody>
</table>
<p>Note: Usage limit is a constant at 5 uses.</p>
<p>&nbsp;</p>
<h4 id="phasingpowerupentity"><a href="../../player-guide/entities/#powerup-phasing">PhasingPowerUpEntity</a></h4>
<p>This is a collectible power-up granting agent ability to walk through <a href="#blockingentity">BlockingEntity</a> for a duration of time.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>time_limit</td>
<td>TimeLimit Class</td>
<td>TimeLimit class that saves amount, indicating number of turns powerup is active</td>
</tr>
</tbody>
</table>
<p>Note: Time limit is a constant at 5 steps.</p>
<p>&nbsp;</p>
<h4 id="other-entities">Other Entities</h4>
<p>These Entities extend directly from BaseEntity. They are either non interactable entities which are purely for aesthetic purposes, or in the case of ExitEntity &amp; FloorEntity, entities with special purposes.</p>
<p>&nbsp;</p>
<h4 id="exitentity"><a href="../../player-guide/entities/#exit">ExitEntity</a></h4>
<p>This serves as the final tile the agent has to reach to complete the objective. The ExitEntity has no other attributes.</p>
<p>&nbsp;</p>
<h4 id="floorentity"><a href="../../player-guide/entities/#floor">FloorEntity</a></h4>
<p>Floor entities are not interactable with the agent.</p>
<p>&nbsp;</p>
<h4 id="unlockeddoorentity"><a href="../../player-guide/entities/#door">UnlockedDoorEntity</a></h4>
<p>UnlockedDoorEntity is not interactable with agent and serves only an aesthetic purpose. It is the unlocked version of the <a href="#lockeddoorentity">LockedDoorEntity</a>. The UnlockedDoorEntity has no attributes.</p>
<p>&nbsp;</p>
<h2 id="usage-example">Usage Example</h2>
<p>Use the code examples given below to familiarise yourself on the <code>State</code> representation and explore the different components.</p>
<hr />
<h3 id="useful-operations">Useful Operations</h3>
<ul>
<li>
<p><strong>Get agent ID</strong>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">agent</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Lookup components by EntityId</strong>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">state</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">eid</span><span class="p">)</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">eid</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">blocking</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Iterate entities in a cell</strong><br />
  Invert <code>state.position</code> to obtain a mapping of:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>Position -&gt; [EntityID]
</code></pre></div></p>
</li>
<li>
<p><strong>Sparse debug view</strong>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">state</span><span class="o">.</span><span class="n">description</span>
</code></pre></div>
  Returns a <code>PMap</code> containing only populated component stores.</p>
</li>
<li>
<p><strong>Apply an action</strong>
  ```python
  step(State, Action) -&gt; State</p>
</li>
</ul>
<hr />
<h3 id="full-example">Full Example</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">from</span> <span class="nn">grid_adventure.step</span> <span class="kn">import</span> <span class="n">step</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="c1"># Creation of the grid still requires use of GridState</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="n">gridstate</span> <span class="o">=</span> <span class="n">GridState</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">movement</span><span class="o">=</span><span class="n">MOVEMENTS</span><span class="p">[</span><span class="s2">&quot;cardinal&quot;</span><span class="p">],</span> <span class="n">objective</span><span class="o">=</span><span class="n">OBJECTIVES</span><span class="p">[</span><span class="s2">&quot;collect_gems_and_exit&quot;</span><span class="p">],</span> <span class="n">seed</span><span class="o">=</span><span class="mi">0</span><span class="p">,)</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">gridstate</span><span class="o">.</span><span class="n">height</span><span class="p">):</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">gridstate</span><span class="o">.</span><span class="n">width</span><span class="p">):</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>        <span class="n">gridstate</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">FloorEntity</span><span class="p">())</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="c1"># Add an agent entity, box and exit to the grid</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="n">gridstate</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">AgentEntity</span><span class="p">())</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="n">gridstate</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">BoxEntity</span><span class="p">())</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="n">gristate</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">ExitEntity</span><span class="p">())</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="c1"># Convert GridState to the immutable State representation</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="n">state</span> <span class="o">=</span> <span class="n">to_state</span><span class="p">(</span><span class="n">gridstate</span><span class="p">)</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="c1"># state.description contains only populated component stores</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="c1"># (e.g. position, agent, blocking, etc.)</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="c1"># state.position maps EntityID -&gt; (x, y) coordinates and can be used to locate entities in the grid</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="c1"># Retrieve the agent&#39;s EntityID</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="n">agent_id</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">agent</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="n">box_entity_ids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">pushable</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="c1"># Find all entities that are pushable. Since only 1 box is added, it contains the entity id of the box</span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="n">box_id</span> <span class="o">=</span> <span class="n">box_entity_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="c1"># Look up current position</span>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="n">agent_position</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">agent_id</span><span class="p">)</span> <span class="c1">#(0,1)</span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="n">box_position</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span> <span class="c1">#(1,1)</span>
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="c1"># Check whether the entity is considered blocking</span>
<a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a><span class="n">is__agent_blocking</span> <span class="o">=</span> <span class="n">agent_id</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">blocking</span> <span class="c1"># False</span>
<a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="n">is_box_blocking</span> <span class="o">=</span> <span class="n">box_id</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">blocking</span> <span class="c1"># True</span>
<a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>
<a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="c1"># Apply an action using step. step returns a new State</span>
<a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="n">state</span> <span class="o">=</span> <span class="n">step</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">Action</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">)</span>
<a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a>
<a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a><span class="c1"># After stepping, the agent&#39;s position in state_3_1.position is updated</span>
<a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a><span class="n">new_agent_position</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">agent_id</span><span class="p">)</span> <span class="c1">#(1,1)</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>